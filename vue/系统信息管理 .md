# 后台管理系统API


**简介**:后台管理系统API


**HOST**:http://localhost:9090


**联系人**:


**Version**:1.0


**接口路径**:/v3/api-docs/系统信息管理


[TOC]






# 登录管理


## 登录


**接口地址**:`/admin/login`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded,application/json`


**响应数据类型**:`*/*`


**接口描述**:


**请求示例**:


```javascript
{
  "username": "",
  "password": "",
  "captchaKey": "",
  "captchaCode": ""
}
```


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|loginVo|后台管理系统登录信息|body|true|LoginVo|LoginVo|
|&emsp;&emsp;username|用户名||false|string||
|&emsp;&emsp;password|密码||false|string||
|&emsp;&emsp;captchaKey|验证码key||false|string||
|&emsp;&emsp;captchaCode|验证码code||false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|message||string||
|data||string||


**响应示例**:
```javascript
{
	"code": 0,
	"message": "",
	"data": ""
}
```


## 注册


**接口地址**:`/admin/login/register`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|username||query|true|string||
|password||query|true|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|Result|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|message||string||
|data||object||


**响应示例**:
```javascript
{
	"code": 0,
	"message": "",
	"data": {}
}
```


## 获取图形验证码


**接口地址**:`/admin/login/captcha`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultCaptchaVo|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|message||string||
|data||CaptchaVo|CaptchaVo|
|&emsp;&emsp;image|验证码图片信息|string||
|&emsp;&emsp;key|验证码key|string||


**响应示例**:
```javascript
{
	"code": 0,
	"message": "",
	"data": {
		"image": "",
		"key": ""
	}
}
```


## 获取登陆用户个人信息


**接口地址**:`/admin/info`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultSystemUserInfoVo|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|message||string||
|data||SystemUserInfoVo|SystemUserInfoVo|
|&emsp;&emsp;userId|主键ID|integer(int64)||
|&emsp;&emsp;username|账号(学号/工号)|string||
|&emsp;&emsp;realName|真实姓名|string||
|&emsp;&emsp;userType|用户类型: STUDENT, TEACHER|string||
|&emsp;&emsp;roleKey|管理员角色: SUPER, PURCHASE|string||
|&emsp;&emsp;deptName|院系/部门|string||
|&emsp;&emsp;phone|联系电话|string||
|&emsp;&emsp;maxBorrowQuota|最大借阅额度|integer(int32)||
|&emsp;&emsp;status|状态: 1-正常, 0-禁用|integer(int32)||
|&emsp;&emsp;avatarUrl|用户头像|string||


**响应示例**:
```javascript
{
	"code": 0,
	"message": "",
	"data": {
		"userId": 0,
		"username": "",
		"realName": "",
		"userType": "",
		"roleKey": "",
		"deptName": "",
		"phone": "",
		"maxBorrowQuota": 0,
		"status": 0,
		"avatarUrl": ""
	}
}
```


# 文件管理


## 上传文件


**接口地址**:`/admin/file/upload`


**请求方式**:`POST`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultString|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|message||string||
|data||string||


**响应示例**:
```javascript
{
	"code": 0,
	"message": "",
	"data": ""
}
```


# 系统信息管理


## 获取用户总数


**接口地址**:`/admin/user/total`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultLong|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|message||string||
|data||integer(int64)|integer(int64)|


**响应示例**:
```javascript
{
	"code": 0,
	"message": "",
	"data": 0
}
```


## 分页查询所有用户的信息


**接口地址**:`/admin/user/page`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


| 参数名称 | 参数说明 | 请求类型    | 是否必须 | 数据类型 | schema |
| -------- | -------- | ----- | -------- | -------- | ------ |
|pageNum||query|false|integer(int64)||
|pageSize||query|false|integer(int64)||
|username|账号(学号/工号)关键词|query|false|string||
|realName|真实姓名关键词|query|false|string||
|userType|用户类型: STUDENT, TEACHER|query|false|string||
|deptName|院系/部门关键词|query|false|string||
|status|状态: 1-正常, 0-禁用|query|false|string||


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultIPageSystemUserInfoVo|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|message||string||
|data||IPageSystemUserInfoVo|IPageSystemUserInfoVo|
|&emsp;&emsp;size||integer(int64)||
|&emsp;&emsp;records|用户基本信息|array|SystemUserInfoVo|
|&emsp;&emsp;&emsp;&emsp;userId|主键ID|integer||
|&emsp;&emsp;&emsp;&emsp;username|账号(学号/工号)|string||
|&emsp;&emsp;&emsp;&emsp;realName|真实姓名|string||
|&emsp;&emsp;&emsp;&emsp;userType|用户类型: STUDENT, TEACHER|string||
|&emsp;&emsp;&emsp;&emsp;roleKey|管理员角色: SUPER, PURCHASE|string||
|&emsp;&emsp;&emsp;&emsp;deptName|院系/部门|string||
|&emsp;&emsp;&emsp;&emsp;phone|联系电话|string||
|&emsp;&emsp;&emsp;&emsp;maxBorrowQuota|最大借阅额度|integer||
|&emsp;&emsp;&emsp;&emsp;status|状态: 1-正常, 0-禁用|integer||
|&emsp;&emsp;&emsp;&emsp;avatarUrl|用户头像|string||
|&emsp;&emsp;current||integer(int64)||
|&emsp;&emsp;total||integer(int64)||
|&emsp;&emsp;pages||integer(int64)||


**响应示例**:
```javascript
{
	"code": 0,
	"message": "",
	"data": {
		"size": 0,
		"records": [
			{
				"userId": 0,
				"username": "",
				"realName": "",
				"userType": "",
				"roleKey": "",
				"deptName": "",
				"phone": "",
				"maxBorrowQuota": 0,
				"status": 0,
				"avatarUrl": ""
			}
		],
		"current": 0,
		"total": 0,
		"pages": 0
	}
}
```


## 获取已借阅图书总数


**接口地址**:`/admin/borrow/total`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultLong|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|message||string||
|data||integer(int64)|integer(int64)|


**响应示例**:
```javascript
{
	"code": 0,
	"message": "",
	"data": 0
}
```


## 获取图书总数


**接口地址**:`/admin/book/total`


**请求方式**:`GET`


**请求数据类型**:`application/x-www-form-urlencoded`


**响应数据类型**:`*/*`


**接口描述**:


**请求参数**:


暂无


**响应状态**:


| 状态码 | 说明 | schema |
| -------- | -------- | ----- | 
|200|OK|ResultLong|


**响应参数**:


| 参数名称 | 参数说明 | 类型 | schema |
| -------- | -------- | ----- |----- | 
|code||integer(int32)|integer(int32)|
|message||string||
|data||integer(int64)|integer(int64)|


**响应示例**:
```javascript
{
	"code": 0,
	"message": "",
	"data": 0
}
```